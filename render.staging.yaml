# Render Blueprint for DentWizard - STAGING
# Frontend only - API runs on AWS EC2

services:
  # React Frontend - Staging
  - type: web
    name: dentwizard-app-staging
    runtime: static
    repo: https://github.com/infonetproducts/dentwizard
    branch: staging
    region: oregon
    buildCommand: cd react-app && npm install && REACT_APP_API_URL=$REACT_APP_API_URL npm run build
    staticPublishPath: ./react-app/build
    envVars:
      - key: REACT_APP_API_URL
        sync: false  # Set manually - your AWS EC2 API URL (staging or production)
      - key: REACT_APP_ENVIRONMENT
        value: staging
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
    headers:
      - path: /*
        name: X-Frame-Options
        value: SAMEORIGIN
      - path: /*
        name: X-Content-Type-Options
        value: nosniff
